<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos del Puerto Serie</title>
    <style>
        .fecha-hora, .tx-rx {
            padding: 10px;
            display: inline-block;
            font-family: Arial, sans-serif;
        }
        .fecha-hora {
            color: red;
            border: 2px solid green;
        }
        .tx-rx {
            color: blue;
            border: 2px solid orange;
        }
    </style>
    <script>
        async function fetchData() {
            try {
                const response = await fetch('/data');
                const data = await response.json();

                // Actualiza Fecha y Hora
                const fechaHoraElem = document.getElementById('fecha-hora');
                fechaHoraElem.textContent = data["Fecha y Hora"] || "N/A";

                // Actualiza TX/RX
                const txRxElem = document.getElementById('tx-rx');
                txRxElem.textContent = data["TX/RX"] || "N/A";

            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Actualiza los datos cada 2 segundos
        setInterval(fetchData, 2000);

        // Cargar datos al inicio
        document.addEventListener('DOMContentLoaded', fetchData);
    </script>
</head>
<body>
    <h1>Monitor de Puerto Serie</h1>
    <div class="fecha-hora" id="fecha-hora">Cargando Fecha y Hora...</div>
    <div class="tx-rx" id="tx-rx">Cargando TX/RX...</div>
</body>
</html>
